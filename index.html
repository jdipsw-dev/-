<!doctype html><html lang=ko><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,viewport-fit=cover"><title>경로 결과(모바일)</title><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/leaflet@1.9.4/dist/leaflet.css><style>#map{height:56vh;min-height:320px}.mini{margin-left:6px;padding:6px 10px;font-size:0.9rem;border-radius:10px;white-space:nowrap}</style></head><body><div style="max-width:720px;margin:0 auto;padding:12px;font-family:system-ui,-apple-system,Segoe UI,Roboto"><h1 style="font-size:18px;font-weight:700;margin:0 0 10px">경로 결과(모바일)</h1><div id=map style="border-radius:14px;box-shadow:0 4px 20px rgba(0,0,0,.06);"></div><ol id=list style="margin:12px 0;padding-left:20px;font-size:14px"></ol><script src=https://cdn.jsdelivr.net/npm/leaflet@1.9.4/dist/leaflet.js></script><script>var NODES=[{"lat":37.75937,"lon":127.0416039,"zip":"11609","addr":"경기도 의정부시 체육로 254 3층 녹양다함께돌봄센터 ( 녹양동 )","conf":"A","__type":"stop"},{"lat":37.7463667,"lon":127.042447,"zip":"11663","addr":"경기도 의정부시 의정부동 405-22 석천팰리스 202호","conf":"C","__type":"stop"},{"lat":37.742192,"lon":127.0491246,"zip":"11692","addr":"경기도 의정부시 의정부동 184-3 의정부한원힐트리움더테라스 외부 비밀번호 #2501*8889# / 2501호 현관문 앞에 놔주세요","conf":"C","__type":"stop"},{"lat":37.7391541,"lon":127.044384,"zip":"11670","addr":"경기도 의정부시 신흥로258번길 25 (의정부동, 해태프라자) 11층//문 앞에 놓아주세요","conf":"A","__type":"stop"},{"lat":37.7356731,"lon":127.0434263,"zip":"11651","addr":"경기도 의정부시 신흥로 232 5층 매니스 ( 의정부동 )","conf":"A","__type":"stop"},{"lat":37.7290182,"lon":127.0383323,"zip":"11629","addr":"경기도 의정부시 의정부동 721 의정부 롯데캐슬 골드파크 1단지 정문상가 101호(정문101동앞) 롯데캐슬우리부동산","conf":"C","__type":"stop"},{"lat":37.7276474,"lon":127.0492404,"zip":"11703","addr":"경기도 의정부시 평화로400번길 4 4층 아르보 ( 호원동 )","conf":"A","__type":"stop"},{"lat":37.7243295,"lon":127.0577862,"zip":"11722","addr":"경기도 의정부시 회룡로192번길 45 문혜경 미용실2층 방문요양119센터 ( 장암동 )","conf":"A","__type":"stop"},{"lat":37.7458075,"lon":127.0965999,"zip":"11813","addr":"경기도 의정부시 민락동 847 호반베르디움1차 117동 504호","conf":"C","__type":"stop"},{"lat":37.7456401,"lon":127.0968178,"zip":"11813","addr":"경기도 의정부시 오목로205번길 6-9 102호 민락베스트부동산 ( 민락동 )","conf":"A","__type":"stop"}];var mapEl=document.getElementById("map");if(!mapEl.style.height||mapEl.offsetHeight<50){mapEl.style.height="56vh";}var map=L.map("map",{preferCanvas:true});var tl=L.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:"© OpenStreetMap"}).addTo(map);tl.on("tileerror",function(){if(tl._url.indexOf("tile.openstreetmap.org")>-1) tl.setUrl("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"); else tl.setUrl("https://a.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png");});var markers=L.layerGroup().addTo(map);var line=null;function inv(){try{map.invalidateSize();}catch(e){}}setTimeout(inv,200);window.addEventListener("load",inv);document.addEventListener("visibilitychange",function(){if(!document.hidden){setTimeout(inv,150);}});if("ResizeObserver" in window){var ro=new ResizeObserver(function(){inv();});ro.observe(mapEl);}function draw(){markers.clearLayers();if(line){try{map.removeLayer(line);}catch(e){}line=null;}var b=L.latLngBounds([]);for(var i=0;i<NODES.length;i++){var p=NODES[i];var m=L.circleMarker([p.lat,p.lon],{radius:7,color:"#2563eb",fillColor:"#2563eb",fillOpacity:.9});m.bindTooltip((i+1)+". "+(p.zip||""));markers.addLayer(m);b.extend([p.lat,p.lon]);}line=L.polyline(NODES.map(function(p){return [p.lat,p.lon];}),{weight:5,opacity:.85,color:"#0ea5e9"}).addTo(map);map.fitBounds(b.pad(.2));var ol=document.getElementById("list");ol.innerHTML="";for(var j=0;j<NODES.length;j++){var n=NODES[j];var tag=(n.__type==="start")?"출발":((n.__type==="end")?"도착":("경유"+("00"+j).slice(-2)));var zip=(n.zip?(" ["+n.zip+"]"):"");var conf=(n.conf?(" · 정확도 "+n.conf):"");var li=document.createElement("li");var main=document.createElement("div");main.textContent=(j+1)+". "+tag+zip+" - "+(n.addr||"")+conf;var btn=document.createElement("div");var k=document.createElement("button");k.textContent="카카오맵";k.className="mini";k.style.background="#FEF08A";k.style.border="1px solid #F59E0B";k.onclick=(function(lat,lon){return function(){window.open("kakaomap://look?p="+lat+","+lon,"_blank");};})(n.lat,n.lon);var t=document.createElement("button");t.textContent="T맵";t.className="mini";t.style.background="#DBEAFE";t.style.border="1px solid #3B82F6";t.onclick=(function(lat,lon,addr){return function(){window.open("geo:"+lat+","+lon+"?q="+encodeURIComponent(addr||"목적지"),"_blank");};})(n.lat,n.lon,n.addr);btn.appendChild(k);btn.appendChild(t);li.appendChild(main);li.appendChild(btn);ol.appendChild(li);} } draw();</script></div></body></html>
